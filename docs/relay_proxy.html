<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Relay Proxy</title>
</head>
<body>
  <p>Triggering relay...</p>

  <script>
    const repoApi = "https://api.github.com/repos/hideosuzuki2024fx-blip/NoteGenerator/dispatches";
    const payload = {
      event_type: "gpt_relay_trigger",
      client_payload: { message: "GPT's relay trigger activated" }
    };

    fetch(repoApi, {
      method: "POST",
      headers: {
        "Accept": "application/vnd.github+json",
        "Content-Type": "application/json"
      },
      body: JSON.stringify(payload)
    })
    .then(r => {
      if (r.ok) {
        document.body.innerHTML += "<p>❤ Relay workflow triggered successfully.</p>";
      } else {
        document.body.innerHTML += `<p>— Failed with status ${r.status}.</p>`;
      }
    })
    .catch(e => {
      document.body.innerHTML += `<p>— Error: ${e.message}</p>`;
    });
  </script>
</body>
</html>